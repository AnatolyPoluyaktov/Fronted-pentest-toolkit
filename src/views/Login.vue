<template>
    <b-container>
      <b-row class="mt-5">
        <b-col cols="5"><h1>Pentest Toolkit</h1></b-col>
      </b-row>
      <b-row>

        <b-col class="my-10" order-sm="12" order="1" sm="5">
          <b-card>
            <v-text-field label='Логин' v-model="username"></v-text-field>
            <v-text-field label='Пароль' v-model="password" type="password" @keyup.enter="login"></v-text-field>
            <v-btn @click="login" block color="primary">Войти</v-btn>
          </b-card>
        </b-col>
      </b-row>
    </b-container>
  </template>

  <script>
  export default {
    data() {
      return {
        username: "",
        password: "",
      };
    },
    methods: {
      async login() {
        await this.$store.dispatch("login", {
          username: this.username,
          password: this.password,
        });
       this.$router.replace({ path: "/" });
      },
    },

    beforeMount() {
      if (this.$store.state.isAuthenticated) {
        this.$router.replace({ path: "/" });
      }
    },
  };
  </script>

  <style>
  .temp {
    width: 80px;
  }
  </style>
